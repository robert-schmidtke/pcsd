\def\Module{Principles of Computer System Design}
\def\Uebung{Assignment 3}
\def\Studentenname{Marcus Voss (qcz284), Robert Schmidtke (rxt809), Marco Eilers (dbk726)}
\def\Sub_date{08.01.2013}

\documentclass[12pt,a4paper,fleqn]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fullpage} 
\headsep1cm
\parindent0cm
\usepackage{amssymb, amstext, amsmath}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{hyperref}
\usepackage{threeparttable}
\usepackage{footnote}
\usepackage{listings}
\makesavenoteenv{tabular}

\lhead{\textbf{\Module}}
\rhead{\Uebung~(Submission: \Sub_date)}

\cfoot{}
\lfoot{\Studentenname}
\rfoot{\thepage\ of \pageref{LastPage}}
\pagestyle{fancy}
\renewcommand{\footrulewidth}{0.4pt}

\newcommand{\code}[1]{{\fontfamily{fvm}\small \selectfont #1}}

%Line spacing between paragraphs
\setlength{\parskip}{6pt}


\begin{document}

\title{\Module\\\Uebung}
\author{\Studentenname}
\maketitle

\section*{Exercises} 
\label{sec:exercises}

\subsection*{Question 1}
\label{sec:eq1}

\subsubsection*{(a)}

\begin{lstlisting}[basicstyle=\footnotesize,breaklines=true]
Sender(){
	//DO SOMETHING
	Receiver rc = new Receiver();
	
	rc.sendMessage(Message msg, int msg_id);
	Time startTime = System.currentTime();
	while(True){
		Message reply, int reply_id = rc.receiveMessage();
		timeDiff = System.currentTime() - startTime;
		if ((reply == "ok") AND (reply_id == msg_ID)) OR (timeDiff >= TIMEOUT){
			break;
		}
	}
	//CONTINUE DOING SOMETHING
}

Receiver(){
	Sender sr = new Sender();
	while(True){
	 	Message msg, int msg_id = sr.receiveMessage();
	 	if msg.isFullyReceived(){
			sr.sendMessage(new Message("ok"), msg_id);
		} else {
			sr.sendMessage(new Message("fail"), msg_id);
		}
	}
}
\end{lstlisting}


\subsubsection*{(b)}

\begin{lstlisting}[basicstyle=\footnotesize,breaklines=true]
Sender(){
	//DO SOMETHING
	MessageBuffer mb = new MessageBuffer();
	Acknowledgement ack = mb.sendMessage(Message msg);
	ack.wait();
	//CONTINUE DOING SOMETHING
}

MessageBuffer(){
	Receiver rc = new Receiver();
	Sender sr = new Sender();
	
	while(True){
		Message msg = sr.receiveMessage();
		if (msg.isFullyReceived()){
			receiveAck.notify();
		}
		
		Acknowledgement sendAck = sr.sendMessage(Message msg);
		sendAck.wait();
	}
}

Receiver(){
	MessageBuffer mb = new MessageBuffer();
	while(True){
		Message msg = mb.receiveMessage();
		if (msg.isFullyReceived())
			ack.notify();
		}
	}
}
\end{lstlisting}



\subsubsection*{(c)}

\subsection*{Question 2}
\label{sec:eq2}
\subsubsection*{Exokernel}

Typically Operation Systems (OS) function as the interface between applications and physical resources and therefore limit the implementation freedom of applications by hiding physical details through providing different layers of abstraction. Typical Operation Systems hence violate the end-to-end principle, which asks for high control over application specific decisions at the application level. By limiting applications, it is in a sense application specific, and violates the end-to-end principle. Exokernels are an alternate OS architecture that leave traditional OS abstraction such as resource management to the application (see \cite{Engler1995}). These as shown follows the end-to-end principle, as they allow applications for more access to the hardware, and hence making it less application specific. For such a design speaks that it on the one hand side gives the application more freedom and and more functionality, and one the other hand allows for improved performance (\cite{Engler1995} speak of possible improvements up to 45\%). Against this design speaks that by being more application specific, such a design is also more specific to a certain physical platform, as hardware abstraction layers are diminished. Also does more freedom mean more responsibilities for the application, which if certain things are not or badly handled do not lead to expected improvements.

\subsubsection*{Encrypted data transmission}

Encrypted data transmission trough a protocol such as SSL also follows the end-to-end principles by that it does not care about application specific details (e.g. if it transmits an e-mail, web pages, files or voice-over-IP), but does only provide with the secure transmission for the application. Alternatively the necessary steps such as key exchange, entity and message authentication, and en- and decryption could be implemented at an application level. This would give all control over the cryptographic process to the application. In the case of the end-to-end argument one must trust that the lower level process works as expected and gives to opportunity to possible intruders, as the application gives the \emph{plain} data into this lower "channel" (see \cite{Saltzer1984}).

\subsection*{Question 3}
\label{sec:eq3}

\subsubsection*{(a)}
The probability that the daisy chain is connecting all buildings is 100\% minus twice the probability that one link fails and one is available, minus the probability that both fail, so: 
\begin{align*}
P_{availability} &= 1-2(1-p)p - p^2 = 1-2p + p^2 \\
&= (1-p)^2
\end{align*}

\subsubsection*{(b)}
The probability that the fully connected network is still connecting all buildings is 100\% minus the three cases that two links fail and only one is available, minus the probability that all three fail, so:
\begin{align*}
P_{availability} &= 1-3(1-p)p^2 - p^3 \\
&= 1 + 2p^3 - 3p^2
\end{align*}

\subsubsection*{(c)}
We choose the offer that maximises the availability given the budget constraints. Using the formulas from above we get:
\begin{align*}
P_{Daisy} &= (1-0.000001)^2 \approx 0.999998 \\
P_{Fully} &= 1 + 2p^3 - 3p^2 = 1 + 2(0.0001)^3-3(0.0001)^2 \approx 0.99999997 \\ 
&\Rightarrow P_{Daisy} < P_{Fully}
\end{align*}

We hence choose the fully connected network.

\subsection*{Question 4}
\label{sec:eq4}

\section*{Programming Task} 
\label{sec:programming}

\subsection*{Question 1}
\label{sec:pq1}

\subsection*{Question 2}
\label{sec:pq2}

\subsection*{Question 3}
\label{sec:pq3}

\subsection*{Question 4}
\label{sec:pq4}

\subsection*{Question 5}
\label{sec:pq5}

\subsection*{Question 6}
\label{sec:pq6}

\subsection*{Question 7}
\label{sec:pq7}
 

\begin{thebibliography}{1}

\bibitem[Saltzer1984]{Saltzer1984} Saltzer, Jerome H., David P. Reed, and David D. Clark. "End-to-end arguments in system design." ACM Transactions on Computer Systems (TOCS) 2, no. 4 (1984): 277-288.

\bibitem[Engler1995]{Engler1995} Engler, Dawson R., and M. Frans Kaashoek. "Exokernel: An operating system architecture for application-level resource management." In ACM SIGOPS Operating Systems Review, vol. 29, no. 5, pp. 251-266. ACM, 1995.

\end{thebibliography}



\end{document}
